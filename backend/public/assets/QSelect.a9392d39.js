var Gt=Object.defineProperty,el=Object.defineProperties;var tl=Object.getOwnPropertyDescriptors;var bt=Object.getOwnPropertySymbols;var ll=Object.prototype.hasOwnProperty,nl=Object.prototype.propertyIsEnumerable;var yt=(e,l,n)=>l in e?Gt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,B=(e,l)=>{for(var n in l||(l={}))ll.call(l,n)&&yt(e,n,l[n]);if(bt)for(var n of bt(l))nl.call(l,n)&&yt(e,n,l[n]);return e},N=(e,l)=>el(e,tl(l));import{br as Se,U as S,ad as V,bu as Ge,bs as et,bM as ul,bt as tt,bN as il,l as H,aa as Ee,bC as lt,bE as re,bO as ol,bP as nt,bQ as Tt,bR as At,bS as It,bT as al,bU as rl,bV as sl,bw as $e,bW as cl,bB as dl,bX as fl,bY as Ie,am as ae,bZ as wt,aZ as Z,at as vl,ap as Fe,b_ as ml,bI as Ye,b$ as xt,c0 as hl,c1 as gl,c2 as Sl,c3 as bl,c4 as yl,bJ as wl,bK as xl,c5 as Cl,c6 as kl,c7 as ql,c8 as Vl,c9 as Ct,ca as Ml,cb as _l,cc as pl,cd as El,ce as zl,b7 as Bl,cf as Tl,cg as Al,bH as Il,bz as Fl,ao as Hl,ar as Ll,an as Ol,ch as Rl,ci as Pl,cj as kt,ck as Te,aq as $l,ay as Dl,cl as Wl,cm as Kl,cn as _e,co as qt,bD as Nl,bF as jl}from"./index.9fdffc92.js";import{r as Ze}from"./QTabs.21b96ff0.js";var Ql=Se({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const n=S(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>V("div",{class:n.value},Ge(l.default))}}),Ul=Se({name:"QItem",props:N(B(B({},et),ul),{tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean}),emits:["click","keyup"],setup(e,{slots:l,emit:n}){const{proxy:{$q:u}}=Ee(),r=tt(e,u),{hasRouterLink:i,hasLink:s,linkProps:h,linkClass:m,linkTag:g,navigateToRouterLink:a}=il(),k=H(null),_=H(null),o=S(()=>e.clickable===!0||s.value===!0||e.tag==="label"),z=S(()=>e.disable!==!0&&o.value===!0),O=S(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(r.value===!0?" q-item--dark":"")+(s.value===!0&&e.active===null?m.value:e.active===!0?`${e.activeClass!==void 0?` ${e.activeClass}`:""} q-item--active`:"")+(e.disable===!0?" disabled":"")+(z.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),p=S(()=>{if(e.insetLevel===void 0)return null;const q=u.lang.rtl===!0?"Right":"Left";return{["padding"+q]:16+e.insetLevel*56+"px"}});function W(q){z.value===!0&&(_.value!==null&&(q.qKeyEvent!==!0&&document.activeElement===k.value?_.value.focus():document.activeElement===_.value&&k.value.focus()),i.value===!0&&a(q),n("click",q))}function P(q){if(z.value===!0&&lt(q,13)===!0){re(q),q.qKeyEvent=!0;const I=new MouseEvent("click",q);I.qKeyEvent=!0,k.value.dispatchEvent(I)}n("keyup",q)}function j(){const q=ol(l.default,[]);return z.value===!0&&q.unshift(V("div",{class:"q-focus-helper",tabindex:-1,ref:_})),q}return()=>{const q={ref:k,class:O.value,style:p.value,onClick:W,onKeyup:P};return z.value===!0?(q.tabindex=e.tabindex||"0",Object.assign(q,h.value)):o.value===!0&&(q["aria-disabled"]="true"),V(g.value,q,j())}}}),Xl=Se({name:"QField",inheritAttrs:!1,props:nt,emits:Tt,setup(){return At(It())}});const Yl={xs:8,sm:10,md:14,lg:20,xl:24};var Zl=Se({name:"QChip",props:N(B(B({},et),al),{dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}}),emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:n}){const{proxy:{$q:u}}=Ee(),r=tt(e,u),i=rl(e,Yl),s=S(()=>e.selected===!0||e.icon!==void 0),h=S(()=>e.selected===!0?e.iconSelected||u.iconSet.chip.selected:e.icon),m=S(()=>e.iconRemove||u.iconSet.chip.remove),g=S(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),a=S(()=>{const p=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(p?` text-${p} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(g.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),k=S(()=>e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0});function _(p){p.keyCode===13&&o(p)}function o(p){e.disable||(n("update:selected",!e.selected),n("click",p))}function z(p){(p.keyCode===void 0||p.keyCode===13)&&(re(p),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function O(){const p=[];g.value===!0&&p.push(V("div",{class:"q-focus-helper"})),s.value===!0&&p.push(V($e,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const W=e.label!==void 0?[V("div",{class:"ellipsis"},[e.label])]:void 0;return p.push(V("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},cl(l.default,W))),e.iconRight&&p.push(V($e,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&p.push(V($e,N(B({class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value},k.value),{onClick:z,onKeyup:z}))),p}return()=>{if(e.modelValue===!1)return;const p={class:a.value,style:i.value};return g.value===!0&&Object.assign(p,k.value,{onClick:o,onKeyup:_}),sl("div",p,O(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[dl,e.ripple]])}}}),Jl=Se({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const n=S(()=>parseInt(e.lines,10)),u=S(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),r=S(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>V("div",{style:r.value,class:u.value},Ge(l.default))}});function Gl(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),fl.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const en={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function tn({showing:e,avoidEmit:l,configureAnchorEl:n}){const{props:u,proxy:r,emit:i}=Ee(),s=H(null);let h;function m(o){return s.value===null?!1:o===void 0||o.touches===void 0||o.touches.length<=1}const g={};n===void 0&&(Object.assign(g,{hide(o){r.hide(o)},toggle(o){r.toggle(o),o.qAnchorHandled=!0},toggleKey(o){lt(o,13)===!0&&g.toggle(o)},contextClick(o){r.hide(o),Ie(o),ae(()=>{r.show(o),o.qAnchorHandled=!0})},prevent:Ie,mobileTouch(o){if(g.mobileCleanup(o),m(o)!==!0)return;r.hide(o),s.value.classList.add("non-selectable");const z=o.target;wt(g,"anchor",[[z,"touchmove","mobileCleanup","passive"],[z,"touchend","mobileCleanup","passive"],[z,"touchcancel","mobileCleanup","passive"],[s.value,"contextmenu","prevent","notPassive"]]),h=setTimeout(()=>{r.show(o),o.qAnchorHandled=!0},300)},mobileCleanup(o){s.value.classList.remove("non-selectable"),clearTimeout(h),e.value===!0&&o!==void 0&&Gl()}}),n=function(o=u.contextMenu){if(u.noParentEvent===!0||s.value===null)return;let z;o===!0?r.$q.platform.is.mobile===!0?z=[[s.value,"touchstart","mobileTouch","passive"]]:z=[[s.value,"mousedown","hide","passive"],[s.value,"contextmenu","contextClick","notPassive"]]:z=[[s.value,"click","toggle","passive"],[s.value,"keyup","toggleKey","passive"]],wt(g,"anchor",z)});function a(){ml(g,"anchor")}function k(o){for(s.value=o;s.value.classList.contains("q-anchor--skip");)s.value=s.value.parentNode;n()}function _(){if(u.target===!1||u.target===""||r.$el.parentNode===null)s.value=null;else if(u.target===!0)k(r.$el.parentNode);else{let o=u.target;if(typeof u.target=="string")try{o=document.querySelector(u.target)}catch{o=void 0}o!=null?(s.value=o.$el||o,n()):(s.value=null,console.error(`Anchor: target "${u.target}" not found`))}}return Z(()=>u.contextMenu,o=>{s.value!==null&&(a(),n(o))}),Z(()=>u.target,()=>{s.value!==null&&a(),_()}),Z(()=>u.noParentEvent,o=>{s.value!==null&&(o===!0?a():n())}),vl(()=>{_(),l!==!0&&u.modelValue===!0&&s.value===null&&i("update:modelValue",!1)}),Fe(()=>{clearTimeout(h),a()}),{anchorEl:s,canShow:m,anchorEvents:g}}function ln(e,l){const n=H(null);let u;function r(h,m){const g=`${m!==void 0?"add":"remove"}EventListener`,a=m!==void 0?m:u;h!==window&&h[g]("scroll",a,Ye.passive),window[g]("scroll",a,Ye.passive),u=m}function i(){n.value!==null&&(r(n.value),n.value=null)}const s=Z(()=>e.noParentEvent,()=>{n.value!==null&&(i(),l())});return Fe(s),{localScrollTarget:n,unconfigureScrollTarget:i,changeScrollEvent:r}}let Ft;const{notPassiveCapture:De}=Ye,ge=[];function We(e){clearTimeout(Ft);const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let n=xt.length-1;for(;n>=0;){const u=xt[n].$;if(u.type.name!=="QDialog")break;if(u.props.seamless!==!0)return;n--}for(let u=ge.length-1;u>=0;u--){const r=ge[u];if((r.anchorEl.value===null||r.anchorEl.value.contains(l)===!1)&&(l===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(l)===!1))e.qClickOutside=!0,r.onClickOutside(e);else return}}function nn(e){ge.push(e),ge.length===1&&(document.addEventListener("mousedown",We,De),document.addEventListener("touchstart",We,De))}function Vt(e){const l=ge.findIndex(n=>n===e);l>-1&&(ge.splice(l,1),ge.length===0&&(clearTimeout(Ft),document.removeEventListener("mousedown",We,De),document.removeEventListener("touchstart",We,De)))}let Mt,_t;function pt(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function un(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Je={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Je[`${e}#ltr`]=e,Je[`${e}#rtl`]=e});function Et(e,l){const n=e.split(" ");return{vertical:n[0],horizontal:Je[`${n[1]}#${l===!0?"rtl":"ltr"}`]}}function on(e,l){let{top:n,left:u,right:r,bottom:i,width:s,height:h}=e.getBoundingClientRect();return l!==void 0&&(n-=l[1],u-=l[0],i+=l[1],r+=l[0],s+=l[0],h+=l[1]),{top:n,left:u,right:r,bottom:i,width:s,height:h,middle:u+(r-u)/2,center:n+(i-n)/2}}function an(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function rn(e){if(hl.is.ios===!0&&window.visualViewport!==void 0){const h=document.body.style,{offsetLeft:m,offsetTop:g}=window.visualViewport;m!==Mt&&(h.setProperty("--q-pe-left",m+"px"),Mt=m),g!==_t&&(h.setProperty("--q-pe-top",g+"px"),_t=g)}let l;const{scrollLeft:n,scrollTop:u}=e.el;if(e.absoluteOffset===void 0)l=on(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:h,left:m}=e.anchorEl.getBoundingClientRect(),g=h+e.absoluteOffset.top,a=m+e.absoluteOffset.left;l={top:g,left:a,width:1,height:1,right:a+1,center:g,middle:a,bottom:g+1}}let r={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(r.minWidth=l.width+"px",e.cover===!0&&(r.minHeight=l.height+"px")),Object.assign(e.el.style,r);const i=an(e.el),s={top:l[e.anchorOrigin.vertical]-i[e.selfOrigin.vertical],left:l[e.anchorOrigin.horizontal]-i[e.selfOrigin.horizontal]};sn(s,l,i,e.anchorOrigin,e.selfOrigin),r={top:s.top+"px",left:s.left+"px"},s.maxHeight!==void 0&&(r.maxHeight=s.maxHeight+"px",l.height>s.maxHeight&&(r.minHeight=r.maxHeight)),s.maxWidth!==void 0&&(r.maxWidth=s.maxWidth+"px",l.width>s.maxWidth&&(r.minWidth=r.maxWidth)),Object.assign(e.el.style,r),e.el.scrollTop!==u&&(e.el.scrollTop=u),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function sn(e,l,n,u,r){const i=n.bottom,s=n.right,h=gl(),m=window.innerHeight-h,g=document.body.clientWidth;if(e.top<0||e.top+i>m)if(r.vertical==="center")e.top=l[u.vertical]>m/2?Math.max(0,m-i):0,e.maxHeight=Math.min(i,m);else if(l[u.vertical]>m/2){const a=Math.min(m,u.vertical==="center"?l.center:u.vertical===r.vertical?l.bottom:l.top);e.maxHeight=Math.min(i,a),e.top=Math.max(0,a-i)}else e.top=Math.max(0,u.vertical==="center"?l.center:u.vertical===r.vertical?l.top:l.bottom),e.maxHeight=Math.min(i,m-e.top);if(e.left<0||e.left+s>g)if(e.maxWidth=Math.min(s,g),r.horizontal==="middle")e.left=l[u.horizontal]>g/2?Math.max(0,g-s):0;else if(l[u.horizontal]>g/2){const a=Math.min(g,u.horizontal==="middle"?l.middle:u.horizontal===r.horizontal?l.right:l.left);e.maxWidth=Math.min(s,a),e.left=Math.max(0,a-e.maxWidth)}else e.left=Math.max(0,u.horizontal==="middle"?l.middle:u.horizontal===r.horizontal?l.left:l.right),e.maxWidth=Math.min(s,g-e.left)}var cn=Se({name:"QMenu",inheritAttrs:!1,props:N(B(B(B(B({},en),Sl),et),bl),{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:pt},self:{type:String,validator:pt},offset:{type:Array,validator:un},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}}),emits:[...yl,"click","escape-key"],setup(e,{slots:l,emit:n,attrs:u}){let r=null,i,s,h;const m=Ee(),{proxy:g}=m,{$q:a}=g,k=H(null),_=H(!1),o=S(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),z=tt(e,a),{registerTick:O,removeTick:p}=wl(),{registerTimeout:W,removeTimeout:P}=xl(),{transition:j,transitionStyle:q}=Cl(e,_),{localScrollTarget:I,changeScrollEvent:J,unconfigureScrollTarget:se}=ln(e,A),{anchorEl:Q,canShow:ce}=tn({showing:_}),{hide:te}=kl({showing:_,canShow:ce,handleShow:d,handleHide:b,hideOnRouteChange:o,processOnMount:!0}),{showPortal:U,hidePortal:ue,renderPortal:de}=ql(m,k,M),ie={anchorEl:Q,innerRef:k,onClickOutside(y){if(e.persistent!==!0&&_.value===!0)return te(y),(y.type==="touchstart"||y.target.classList.contains("q-dialog__backdrop"))&&re(y),!0}},le=S(()=>Et(e.anchor||(e.cover===!0?"center middle":"bottom start"),a.lang.rtl)),ne=S(()=>e.cover===!0?le.value:Et(e.self||"top start",a.lang.rtl)),be=S(()=>(e.square===!0?" q-menu--square":"")+(z.value===!0?" q-menu--dark q-dark":"")),fe=S(()=>e.autoClose===!0?{onClick:$}:{}),oe=S(()=>_.value===!0&&e.persistent!==!0);Z(oe,y=>{y===!0?(Vl(C),nn(ie)):(Ct(C),Vt(ie))});function f(){Tl(()=>{let y=k.value;y&&y.contains(document.activeElement)!==!0&&(y=y.querySelector("[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))})}function d(y){if(p(),P(),r=e.noRefocus===!1?document.activeElement:null,Ml(E),U(),A(),i=void 0,y!==void 0&&(e.touchPosition||e.contextMenu)){const G=_l(y);if(G.left!==void 0){const{top:ve,left:X}=Q.value.getBoundingClientRect();i={left:G.left-X,top:G.top-ve}}}s===void 0&&(s=Z(()=>a.screen.width+"|"+a.screen.height+"|"+e.self+"|"+e.anchor+"|"+a.lang.rtl,L)),e.noFocus!==!0&&document.activeElement.blur(),O(()=>{L(),e.noFocus!==!0&&f()}),W(()=>{a.platform.is.ios===!0&&(h=e.autoClose,k.value.click()),L(),U(!0),n("show",y)},e.transitionDuration)}function b(y){p(),P(),ue(),x(!0),r!==null&&(y===void 0||y.qClickOutside!==!0)&&(r.focus(),r=null),W(()=>{ue(!0),n("hide",y)},e.transitionDuration)}function x(y){i=void 0,s!==void 0&&(s(),s=void 0),(y===!0||_.value===!0)&&(pl(E),se(),Vt(ie),Ct(C)),y!==!0&&(r=null)}function A(){(Q.value!==null||e.scrollTarget!==void 0)&&(I.value=El(Q.value,e.scrollTarget),J(I.value,L))}function $(y){h!==!0?(zl(g,y),n("click",y)):h=!1}function E(y){oe.value===!0&&e.noFocus!==!0&&Al(k.value,y.target)!==!0&&f()}function C(y){n("escape-key"),te(y)}function L(){const y=k.value;y===null||Q.value===null||rn({el:y,offset:e.offset,anchorEl:Q.value,anchorOrigin:le.value,selfOrigin:ne.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function M(){return V(Bl,{name:j.value,appear:!0},()=>_.value===!0?V("div",B(N(B({},u),{ref:k,tabindex:-1,class:["q-menu q-position-engine scroll"+be.value,u.class],style:[u.style,q.value]}),fe.value),Ge(l.default)):null)}return Fe(x),Object.assign(g,{focus:f,updatePosition:L}),de}});const ee=1e3,dn=["start","center","end","start-force","center-force","end-force"],Ht=Array.prototype.filter,fn=window.getComputedStyle(document.body).overflowAnchor===void 0?Il:function(e,l){e!==null&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;const n=e.children||[];Ht.call(n,r=>r.dataset&&r.dataset.qVsAnchor!==void 0).forEach(r=>{delete r.dataset.qVsAnchor});const u=n[l];u&&u.dataset&&(u.dataset.qVsAnchor="")}))};function pe(e,l){return e+l}function Xe(e,l,n,u,r,i,s,h){const m=e===window?document.scrollingElement||document.documentElement:e,g=r===!0?"offsetWidth":"offsetHeight",a={scrollStart:0,scrollViewSize:-s-h,scrollMaxSize:0,offsetStart:-s,offsetEnd:-h};if(r===!0?(e===window?(a.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a.scrollViewSize+=document.documentElement.clientWidth):(a.scrollStart=m.scrollLeft,a.scrollViewSize+=m.clientWidth),a.scrollMaxSize=m.scrollWidth,i===!0&&(a.scrollStart=(Ze===!0?a.scrollMaxSize-a.scrollViewSize:0)-a.scrollStart)):(e===window?(a.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,a.scrollViewSize+=document.documentElement.clientHeight):(a.scrollStart=m.scrollTop,a.scrollViewSize+=m.clientHeight),a.scrollMaxSize=m.scrollHeight),n!==null)for(let k=n.previousElementSibling;k!==null;k=k.previousElementSibling)k.classList.contains("q-virtual-scroll--skip")===!1&&(a.offsetStart+=k[g]);if(u!==null)for(let k=u.nextElementSibling;k!==null;k=k.nextElementSibling)k.classList.contains("q-virtual-scroll--skip")===!1&&(a.offsetEnd+=k[g]);if(l!==e){const k=m.getBoundingClientRect(),_=l.getBoundingClientRect();r===!0?(a.offsetStart+=_.left-k.left,a.offsetEnd-=_.width):(a.offsetStart+=_.top-k.top,a.offsetEnd-=_.height),e!==window&&(a.offsetStart+=a.scrollStart),a.offsetEnd+=a.scrollMaxSize-a.offsetStart}return a}function zt(e,l,n,u){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(u===!0&&(l=(Ze===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(u===!0&&(l=(Ze===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Ae(e,l,n,u){if(n>=u)return 0;const r=l.length,i=Math.floor(n/ee),s=Math.floor((u-1)/ee)+1;let h=e.slice(i,s).reduce(pe,0);return n%ee!==0&&(h-=l.slice(i*ee,n).reduce(pe,0)),u%ee!==0&&u!==r&&(h-=l.slice(u,s*ee).reduce(pe,0)),h}const vn={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},mn=B({virtualScrollHorizontal:Boolean,onVirtualScroll:Function},vn);function hn({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:u}){const r=Ee(),{props:i,emit:s,proxy:h}=r,{$q:m}=h;let g,a,k,_=[],o;const z=H(0),O=H(0),p=H({}),W=H(null),P=H(null),j=H(null),q=H({from:0,to:0}),I=S(()=>i.tableColspan!==void 0?i.tableColspan:100);u===void 0&&(u=S(()=>i.virtualScrollItemSize));const J=S(()=>u.value+";"+i.virtualScrollHorizontal),se=S(()=>J.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);Z(se,()=>{ne()}),Z(J,Q);function Q(){le(a,!0)}function ce(d){le(d===void 0?a:d)}function te(d,b){const x=l();if(x==null||x.nodeType===8)return;const A=Xe(x,n(),W.value,P.value,i.virtualScrollHorizontal,m.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);k!==A.scrollViewSize&&ne(A.scrollViewSize),ue(x,A,Math.min(e.value-1,Math.max(0,parseInt(d,10)||0)),0,dn.indexOf(b)>-1?b:a>-1&&d>a?"end":"start")}function U(){const d=l();if(d==null||d.nodeType===8)return;const b=Xe(d,n(),W.value,P.value,i.virtualScrollHorizontal,m.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),x=e.value-1,A=b.scrollMaxSize-b.offsetStart-b.offsetEnd-O.value;if(g===b.scrollStart)return;if(b.scrollMaxSize<=0){ue(d,b,0,0);return}k!==b.scrollViewSize&&ne(b.scrollViewSize),de(q.value.from);const $=Math.floor(b.scrollMaxSize-Math.max(b.scrollViewSize,b.offsetEnd)-Math.min(o[x],b.scrollViewSize/2));if($>0&&Math.ceil(b.scrollStart)>=$){ue(d,b,x,b.scrollMaxSize-b.offsetEnd-_.reduce(pe,0));return}let E=0,C=b.scrollStart-b.offsetStart,L=C;if(C<=A&&C+b.scrollViewSize>=z.value)C-=z.value,E=q.value.from,L=C;else for(let M=0;C>=_[M]&&E<x;M++)C-=_[M],E+=ee;for(;C>0&&E<x;)C-=o[E],C>-b.scrollViewSize?(E++,L=C):L=o[E]+C;ue(d,b,E,L)}function ue(d,b,x,A,$){const E=typeof $=="string"&&$.indexOf("-force")>-1,C=E===!0?$.replace("-force",""):$,L=C!==void 0?C:"start";let M=Math.max(0,x-p.value[L]),y=M+p.value.total;y>e.value&&(y=e.value,M=Math.max(0,y-p.value.total)),g=b.scrollStart;const G=M!==q.value.from||y!==q.value.to;if(G===!1&&C===void 0){fe(x);return}const{activeElement:ve}=document,X=j.value;G===!0&&X!==null&&X!==ve&&X.contains(ve)===!0&&(X.addEventListener("focusout",ie),setTimeout(()=>{X!==null&&X.removeEventListener("focusout",ie)})),fn(X,x-M);const He=C!==void 0?o.slice(M,x).reduce(pe,0):0;if(G===!0){const ye=y>=q.value.from&&M<=q.value.to?q.value.to:y;q.value={from:M,to:ye},z.value=Ae(_,o,0,M),O.value=Ae(_,o,y,e.value),requestAnimationFrame(()=>{q.value.to!==y&&g===b.scrollStart&&(q.value={from:q.value.from,to:y},O.value=Ae(_,o,y,e.value))})}requestAnimationFrame(()=>{if(g!==b.scrollStart)return;G===!0&&de(M);const ye=o.slice(M,x).reduce(pe,0),we=ye+b.offsetStart+z.value,Le=we+o[x];let ze=we+A;if(C!==void 0){const Y=ye-He,D=b.scrollStart+Y;ze=E!==!0&&D<we&&Le<D+b.scrollViewSize?D:C==="end"?Le-b.scrollViewSize:we-(C==="start"?0:Math.round((b.scrollViewSize-o[x])/2))}g=ze,zt(d,ze,i.virtualScrollHorizontal,m.lang.rtl),fe(x)})}function de(d){const b=j.value;if(b){const x=Ht.call(b.children,M=>M.classList&&M.classList.contains("q-virtual-scroll--skip")===!1),A=x.length,$=i.virtualScrollHorizontal===!0?M=>M.getBoundingClientRect().width:M=>M.offsetHeight;let E=d,C,L;for(let M=0;M<A;){for(C=$(x[M]),M++;M<A&&x[M].classList.contains("q-virtual-scroll--with-prev")===!0;)C+=$(x[M]),M++;L=C-o[E],L!==0&&(o[E]+=L,_[Math.floor(E/ee)]+=L),E++}}}function ie(){j.value!==null&&j.value!==void 0&&j.value.focus()}function le(d,b){const x=1*u.value;(b===!0||Array.isArray(o)===!1)&&(o=[]);const A=o.length;o.length=e.value;for(let E=e.value-1;E>=A;E--)o[E]=x;const $=Math.floor((e.value-1)/ee);_=[];for(let E=0;E<=$;E++){let C=0;const L=Math.min((E+1)*ee,e.value);for(let M=E*ee;M<L;M++)C+=o[M];_.push(C)}a=-1,g=void 0,z.value=Ae(_,o,0,q.value.from),O.value=Ae(_,o,q.value.to,e.value),d>=0?(de(q.value.from),ae(()=>{te(d)})):oe()}function ne(d){if(d===void 0&&typeof window!="undefined"){const C=l();C!=null&&C.nodeType!==8&&(d=Xe(C,n(),W.value,P.value,i.virtualScrollHorizontal,m.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}k=d;const b=parseFloat(i.virtualScrollSliceRatioBefore)||0,x=parseFloat(i.virtualScrollSliceRatioAfter)||0,A=1+b+x,$=d===void 0||d<=0?1:Math.ceil(d/u.value),E=Math.max(1,$,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/A));p.value={total:Math.ceil(E*A),start:Math.ceil(E*b),center:Math.ceil(E*(.5+b)),end:Math.ceil(E*(1+b)),view:$}}function be(d,b){const x=i.virtualScrollHorizontal===!0?"width":"height",A={["--q-virtual-scroll-item-"+x]:u.value+"px"};return[d==="tbody"?V(d,{class:"q-virtual-scroll__padding",key:"before",ref:W},[V("tr",[V("td",{style:B({[x]:`${z.value}px`},A),colspan:I.value})])]):V(d,{class:"q-virtual-scroll__padding",key:"before",ref:W,style:B({[x]:`${z.value}px`},A)}),V(d,{class:"q-virtual-scroll__content",key:"content",ref:j,tabindex:-1},b.flat()),d==="tbody"?V(d,{class:"q-virtual-scroll__padding",key:"after",ref:P},[V("tr",[V("td",{style:B({[x]:`${O.value}px`},A),colspan:I.value})])]):V(d,{class:"q-virtual-scroll__padding",key:"after",ref:P,style:B({[x]:`${O.value}px`},A)})]}function fe(d){a!==d&&(i.onVirtualScroll!==void 0&&s("virtual-scroll",{index:d,from:q.value.from,to:q.value.to-1,direction:d<a?"decrease":"increase",ref:h}),a=d)}ne();const oe=Fl(U,m.platform.is.ios===!0?120:35);Hl(()=>{ne()});let f=!1;return Ll(()=>{f=!0}),Ol(()=>{if(f!==!0)return;const d=l();g!==void 0&&d!==void 0&&d!==null&&d.nodeType!==8?zt(d,g,i.virtualScrollHorizontal,m.lang.rtl):te(a)}),Fe(()=>{oe.cancel()}),Object.assign(h,{scrollTo:te,reset:Q,refresh:ce}),{virtualScrollSliceRange:q,virtualScrollSliceSizeComputed:p,setVirtualScrollSize:ne,onVirtualScrollEvt:oe,localResetVirtualScroll:le,padVirtualScroll:be,scrollTo:te,reset:Q,refresh:ce}}const Bt=e=>["add","add-unique","toggle"].includes(e),gn=".*+?^${}()|[]\\",Sn=Object.keys(nt);var xn=Se({name:"QSelect",inheritAttrs:!1,props:N(B(B(B({},mn),Rl),nt),{modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Bt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function}),emits:[...Tt,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:l,emit:n}){const{proxy:u}=Ee(),{$q:r}=u,i=H(!1),s=H(!1),h=H(-1),m=H(""),g=H(!1),a=H(!1);let k,_,o,z,O,p,W,P,j;const q=H(null),I=H(null),J=H(null),se=H(null),Q=H(null),ce=Pl(e),te=Kl(vt),U=S(()=>Array.isArray(e.options)?e.options.length:0),ue=S(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:de,virtualScrollSliceSizeComputed:ie,localResetVirtualScroll:le,padVirtualScroll:ne,onVirtualScrollEvt:be,scrollTo:fe,setVirtualScrollSize:oe}=hn({virtualScrollLength:U,getVirtualScrollTarget:Pt,getVirtualScrollEl:dt,virtualScrollItemSizeComputed:ue}),f=It(),d=S(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,v=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const c=e.mapOptions===!0&&_!==void 0?_:[],w=v.map(F=>Rt(F,c));return e.modelValue===null&&t===!0?w.filter(F=>F!==null):w}return v}),b=S(()=>{const t={};return Sn.forEach(v=>{const c=e[v];c!==void 0&&(t[v]=c)}),t}),x=S(()=>e.optionsDark===null?f.isDark.value:e.optionsDark),A=S(()=>kt(d.value)),$=S(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||d.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),E=S(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),C=S(()=>U.value===0),L=S(()=>d.value.map(t=>D.value(t)).join(", ")),M=S(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),y=S(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||d.value.some(M.value))),G=S(()=>f.focused.value===!0?e.tabindex:-1),ve=S(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-owns":`${f.targetUid.value}_lb`,"aria-controls":`${f.targetUid.value}_lb`};return h.value>=0&&(t["aria-activedescendant"]=`${f.targetUid.value}_${h.value}`),t}),X=S(()=>{const t={id:`${f.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"};return h.value>=0&&(t["aria-activedescendant"]=`${f.targetUid.value}_${h.value}`),t}),He=S(()=>d.value.map((t,v)=>({index:v,opt:t,html:M.value(t),selected:!0,removeAtIndex:Ot,toggleOption:me,tabindex:G.value}))),ye=S(()=>{if(U.value===0)return[];const{from:t,to:v}=de.value;return e.options.slice(t,v).map((c,w)=>{const F=xe.value(c)===!0,T=t+w,R={clickable:!0,active:!1,activeClass:ze.value,manualFocus:!0,focused:!1,disable:F,tabindex:-1,dense:e.optionsDense,dark:x.value,role:"option",id:`${f.targetUid.value}_${T}`,onClick:()=>{me(c)}};return F!==!0&&(je(c)===!0&&(R.active=!0),h.value===T&&(R.focused=!0),R["aria-selected"]=R.active===!0?"true":"false",r.platform.is.desktop===!0&&(R.onMousemove=()=>{i.value===!0&&Ce(T)})),{index:T,opt:c,html:M.value(c),label:D.value(c),selected:R.active,focused:R.focused,toggleOption:me,setOptionIndex:Ce,itemProps:R}})}),we=S(()=>e.dropdownIcon!==void 0?e.dropdownIcon:r.iconSet.arrow.dropdown),Le=S(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ze=S(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Y=S(()=>Ne(e.optionValue,"value")),D=S(()=>Ne(e.optionLabel,"label")),xe=S(()=>Ne(e.optionDisable,"disable")),Oe=S(()=>d.value.map(t=>Y.value(t))),Lt=S(()=>{const t={onInput:vt,onChange:te,onKeydown:ct,onKeyup:rt,onKeypress:st,onFocus:ot,onClick(v){o===!0&&_e(v)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=te,t});Z(d,t=>{_=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&f.innerLoading.value!==!0&&(s.value!==!0&&i.value!==!0||A.value!==!0)&&(z!==!0&&Me(),(s.value===!0||i.value===!0)&&ke(""))},{immediate:!0}),Z(()=>e.fillInput,Me),Z(i,Qe),Z(U,Jt);function ut(t){return e.emitValue===!0?Y.value(t):t}function Ke(t){if(t>-1&&t<d.value.length)if(e.multiple===!0){const v=e.modelValue.slice();n("remove",{index:t,value:v.splice(t,1)[0]}),n("update:modelValue",v)}else n("update:modelValue",null)}function Ot(t){Ke(t),f.focus()}function it(t,v){const c=ut(t);if(e.multiple!==!0){e.fillInput===!0&&Be(D.value(t),!0,!0),n("update:modelValue",c);return}if(d.value.length===0){n("add",{index:0,value:c}),n("update:modelValue",e.multiple===!0?[c]:c);return}if(v===!0&&je(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const w=e.modelValue.slice();n("add",{index:w.length,value:c}),w.push(c),n("update:modelValue",w)}function me(t,v){if(f.editable.value!==!0||t===void 0||xe.value(t)===!0)return;const c=Y.value(t);if(e.multiple!==!0){v!==!0&&(Be(e.fillInput===!0?D.value(t):"",!0,!0),he()),I.value!==null&&I.value.focus(),(d.value.length===0||Te(Y.value(d.value[0]),c)!==!0)&&n("update:modelValue",e.emitValue===!0?c:t);return}if((o!==!0||g.value===!0)&&f.focus(),ot(),d.value.length===0){const T=e.emitValue===!0?c:t;n("add",{index:0,value:T}),n("update:modelValue",e.multiple===!0?[T]:T);return}const w=e.modelValue.slice(),F=Oe.value.findIndex(T=>Te(T,c));if(F>-1)n("remove",{index:F,value:w.splice(F,1)[0]});else{if(e.maxValues!==void 0&&w.length>=e.maxValues)return;const T=e.emitValue===!0?c:t;n("add",{index:w.length,value:T}),w.push(T)}n("update:modelValue",w)}function Ce(t){if(r.platform.is.desktop!==!0)return;const v=t>-1&&t<U.value?t:-1;h.value!==v&&(h.value=v)}function Re(t=1,v){if(i.value===!0){let c=h.value;do c=qt(c+t,-1,U.value-1);while(c!==-1&&c!==h.value&&xe.value(e.options[c])===!0);h.value!==c&&(Ce(c),fe(c),v!==!0&&e.useInput===!0&&e.fillInput===!0&&Pe(c>=0?D.value(e.options[c]):p))}}function Rt(t,v){const c=w=>Te(Y.value(w),t);return e.options.find(c)||v.find(c)||t}function Ne(t,v){const c=t!==void 0?t:v;return typeof c=="function"?c:w=>w!==null&&typeof w=="object"&&c in w?w[c]:w}function je(t){const v=Y.value(t);return Oe.value.find(c=>Te(c,v))!==void 0}function ot(t){e.useInput===!0&&I.value!==null&&(t===void 0||I.value===t.target&&t.target.value===L.value)&&I.value.select()}function at(t){lt(t,27)===!0&&i.value===!0&&(_e(t),he(),Me()),n("keyup",t)}function rt(t){const{value:v}=t.target;if(t.keyCode!==void 0){at(t);return}if(t.target.value="",clearTimeout(k),Me(),typeof v=="string"&&v.length>0){const c=v.toLocaleLowerCase(),w=T=>{const R=e.options.find(K=>T.value(K).toLocaleLowerCase()===c);return R===void 0?!1:(d.value.indexOf(R)===-1?me(R):he(),!0)},F=T=>{w(Y)!==!0&&(w(D)===!0||T===!0||ke(v,!0,()=>F(!0)))};F()}else f.clearValue(t)}function st(t){n("keypress",t)}function ct(t){if(n("keydown",t),Nl(t)===!0)return;const v=m.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),c=t.shiftKey!==!0&&e.multiple!==!0&&(h.value>-1||v===!0);if(t.keyCode===27){Ie(t);return}if(t.keyCode===9&&c===!1){qe();return}if(t.target===void 0||t.target.id!==f.targetUid.value)return;if(t.keyCode===40&&f.innerLoading.value!==!0&&i.value===!1){re(t),Ve();return}if(t.keyCode===8&&e.hideSelected!==!0&&m.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ke(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof m.value!="string"||m.value.length===0)&&(re(t),h.value=-1,Re(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ie.value!==void 0&&(re(t),h.value=Math.max(-1,Math.min(U.value,h.value+(t.keyCode===33?-1:1)*ie.value.view)),Re(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(re(t),Re(t.keyCode===38?-1:1,e.multiple));const w=U.value;if((P===void 0||j<Date.now())&&(P=""),w>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===t.ctrlKey&&(t.keyCode!==32||P.length>0)){i.value!==!0&&Ve(t);const F=t.key.toLocaleLowerCase(),T=P.length===1&&P[0]===F;j=Date.now()+1500,T===!1&&(re(t),P+=F);const R=new RegExp("^"+P.split("").map(Ue=>gn.indexOf(Ue)>-1?"\\"+Ue:Ue).join(".*"),"i");let K=h.value;if(T===!0||K<0||R.test(D.value(e.options[K]))!==!0)do K=qt(K+1,-1,w-1);while(K!==h.value&&(xe.value(e.options[K])===!0||R.test(D.value(e.options[K]))!==!0));h.value!==K&&ae(()=>{Ce(K),fe(K),K>=0&&e.useInput===!0&&e.fillInput===!0&&Pe(D.value(e.options[K]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||P!=="")&&(t.keyCode!==9||c===!1))){if(t.keyCode!==9&&re(t),h.value>-1&&h.value<w){me(e.options[h.value]);return}if(v===!0){const F=(T,R)=>{if(R){if(Bt(R)!==!0)return}else R=e.newValueMode;if(T==null)return;Be("",e.multiple!==!0,!0),(R==="toggle"?me:it)(T,R==="add-unique"),e.multiple!==!0&&(I.value!==null&&I.value.focus(),he())};if(e.onNewValue!==void 0?n("new-value",m.value,F):F(m.value),e.multiple!==!0)return}i.value===!0?qe():f.innerLoading.value!==!0&&Ve()}}function dt(){return o===!0?Q.value:J.value!==null&&J.value.__qPortalInnerRef.value!==null?J.value.__qPortalInnerRef.value:void 0}function Pt(){return dt()}function $t(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?He.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?He.value.map((t,v)=>V(Zl,{key:"option-"+v,removable:f.editable.value===!0&&xe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:G.value,onRemove(){t.removeAtIndex(v)}},()=>V("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:D.value(t.opt)}))):[V("span",{[y.value===!0?"innerHTML":"textContent"]:e.displayValue!==void 0?e.displayValue:L.value})]}function ft(){if(C.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:m.value}):void 0;const t=l.option!==void 0?l.option:c=>V(Ul,B({key:c.index},c.itemProps),()=>V(Ql,()=>V(Jl,()=>V("span",{[c.html===!0?"innerHTML":"textContent"]:c.label}))));let v=ne("div",ye.value.map(t));return l["before-options"]!==void 0&&(v=l["before-options"]().concat(v)),jl(l["after-options"],v)}function Dt(t,v){const c=v===!0?B(B({},ve.value),f.splitAttrs.attributes.value):void 0,w=B(N(B({ref:v===!0?I:void 0,key:"i_t",class:$.value,style:e.inputStyle,value:m.value!==void 0?m.value:"",type:"search"},c),{id:v===!0?f.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t!==!0&&e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0}),Lt.value);return t!==!0&&o===!0&&(Array.isArray(w.class)===!0?w.class=[...w.class,"no-pointer-events"]:w.class+=" no-pointer-events"),V("input",w)}function vt(t){clearTimeout(k),!(t&&t.target&&t.target.qComposing===!0)&&(Pe(t.target.value||""),z=!0,p=m.value,f.focused.value!==!0&&(o!==!0||g.value===!0)&&f.focus(),e.onFilter!==void 0&&(k=setTimeout(()=>{ke(m.value)},e.inputDebounce)))}function Pe(t){m.value!==t&&(m.value=t,n("input-value",t))}function Be(t,v,c){z=c!==!0,e.useInput===!0&&(Pe(t),(v===!0||c!==!0)&&(p=t),v!==!0&&ke(t))}function ke(t,v,c){if(e.onFilter===void 0||v!==!0&&f.focused.value!==!0)return;f.innerLoading.value===!0?n("filter-abort"):(f.innerLoading.value=!0,a.value=!0),t!==""&&e.multiple!==!0&&d.value.length>0&&z!==!0&&t===D.value(d.value[0])&&(t="");const w=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);clearTimeout(O),O=w,n("filter",t,(F,T)=>{(v===!0||f.focused.value===!0)&&O===w&&(clearTimeout(O),typeof F=="function"&&F(),a.value=!1,ae(()=>{f.innerLoading.value=!1,f.editable.value===!0&&(v===!0?i.value===!0&&he():i.value===!0?Qe(!0):i.value=!0),typeof T=="function"&&ae(()=>{T(u)}),typeof c=="function"&&ae(()=>{c(u)})}))},()=>{f.focused.value===!0&&O===w&&(clearTimeout(O),f.innerLoading.value=!1,a.value=!1),i.value===!0&&(i.value=!1)})}function Wt(){return V(cn,N(B({ref:J,class:E.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&C.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:x.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Le.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0},X.value),{onScrollPassive:be,onBeforeShow:ht,onBeforeHide:Kt,onShow:Nt}),ft)}function Kt(t){gt(t),qe()}function Nt(){oe()}function jt(t){_e(t),I.value!==null&&I.value.focus(),g.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Qt(t){_e(t),ae(()=>{g.value=!1})}function Ut(){const t=[V(Xl,N(B(N(B({class:`col-auto ${f.fieldClass.value}`},b.value),{for:f.targetUid.value,dark:x.value,square:!0,loading:a.value,itemAligned:!1,filled:!0,stackLabel:m.value.length>0}),f.splitAttrs.listeners.value),{onFocus:jt,onBlur:Qt}),N(B({},l),{rawControl:()=>f.getControl(!0),before:void 0,after:void 0}))];return i.value===!0&&t.push(V("div",N(B({ref:Q,class:E.value+" scroll",style:e.popupContentStyle},X.value),{onClick:Ie,onScrollPassive:be}),ft())),V(Wl,{ref:se,modelValue:s.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:ht,onBeforeHide:Xt,onHide:Yt,onShow:Zt},()=>V("div",{class:"q-select__dialog"+(x.value===!0?" q-select__dialog--dark q-dark":"")+(g.value===!0?" q-select__dialog--focused":"")},t))}function Xt(t){gt(t),se.value!==null&&se.value.__updateRefocusTarget(f.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),f.focused.value=!1}function Yt(t){he(),f.focused.value===!1&&n("blur",t),Me()}function Zt(){const t=document.activeElement;(t===null||t.id!==f.targetUid.value)&&I.value!==null&&I.value!==t&&I.value.focus(),oe()}function qe(){s.value!==!0&&(h.value=-1,i.value===!0&&(i.value=!1),f.focused.value===!1&&(clearTimeout(O),O=void 0,f.innerLoading.value===!0&&(n("filter-abort"),f.innerLoading.value=!1,a.value=!1)))}function Ve(t){f.editable.value===!0&&(o===!0?(f.onControlFocusin(t),s.value=!0,ae(()=>{f.focus()})):f.focus(),e.onFilter!==void 0?ke(m.value):(C.value!==!0||l["no-option"]!==void 0)&&(i.value=!0))}function he(){s.value=!1,qe()}function Me(){e.useInput===!0&&Be(e.multiple!==!0&&e.fillInput===!0&&d.value.length>0&&D.value(d.value[0])||"",!0,!0)}function Qe(t){let v=-1;if(t===!0){if(d.value.length>0){const c=Y.value(d.value[0]);v=e.options.findIndex(w=>Te(Y.value(w),c))}le(v)}Ce(v)}function Jt(t,v){i.value===!0&&f.innerLoading.value===!1&&(le(-1,!0),ae(()=>{i.value===!0&&f.innerLoading.value===!1&&(t>v?le():Qe(!0))}))}function mt(){s.value===!1&&J.value!==null&&J.value.updatePosition()}function ht(t){t!==void 0&&_e(t),n("popup-show",t),f.hasPopupOpen=!0,f.onControlFocusin(t)}function gt(t){t!==void 0&&_e(t),n("popup-hide",t),f.hasPopupOpen=!1,f.onControlFocusout(t)}function St(){o=r.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||C.value===!1:!0),W=r.platform.is.ios===!0&&o===!0&&e.useInput===!0?"fade":e.transitionShow}return $l(St),Dl(mt),St(),Fe(()=>{clearTimeout(k)}),Object.assign(u,{showPopup:Ve,hidePopup:he,removeAtIndex:Ke,add:it,toggleOption:me,getOptionIndex:()=>h.value,setOptionIndex:Ce,moveOptionSelection:Re,filter:ke,updateMenuPosition:mt,updateInputValue:Be,isOptionSelected:je,getEmittingOptionValue:ut,isOptionDisabled:(...t)=>xe.value.apply(null,t)===!0,getOptionValue:(...t)=>Y.value.apply(null,t),getOptionLabel:(...t)=>D.value.apply(null,t)}),Object.assign(f,{innerValue:d,fieldClass:S(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:q,targetRef:I,hasValue:A,showPopup:Ve,floatingLabel:S(()=>(e.hideSelected===!0?m.value.length>0:A.value===!0)||kt(e.displayValue)),getControlChild:()=>{if(f.editable.value!==!1&&(s.value===!0||C.value!==!0||l["no-option"]!==void 0))return o===!0?Ut():Wt();f.hasPopupOpen===!0&&(f.hasPopupOpen=!1)},controlEvents:{onFocusin(t){f.onControlFocusin(t)},onFocusout(t){f.onControlFocusout(t,()=>{Me(),qe()})},onClick(t){if(Ie(t),o!==!0&&i.value===!0){qe(),I.value!==null&&I.value.focus();return}Ve(t)}},getControl:t=>{const v=$t(),c=t===!0||s.value!==!0||o!==!0;if(e.useInput===!0)v.push(Dt(t,c));else if(f.editable.value===!0){const F=c===!0?ve.value:void 0;v.push(V("input",N(B({ref:c===!0?I:void 0,key:"d_t",class:"q-select__focus-target",id:c===!0?f.targetUid.value:void 0,readonly:!0},F),{onKeydown:ct,onKeyup:at,onKeypress:st}))),c===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&v.push(V("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:rt}))}if(ce.value!==void 0&&e.disable!==!0&&Oe.value.length>0){const F=Oe.value.map(T=>V("option",{value:T,selected:!0}));v.push(V("select",{class:"hidden",name:ce.value,multiple:e.multiple},F))}const w=e.useInput===!0||c!==!0?void 0:f.splitAttrs.attributes.value;return V("div",B({class:"q-field__native row items-center"},w),v)},getInnerAppend:()=>e.loading!==!0&&a.value!==!0&&e.hideDropdownIcon!==!0?[V($e,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:we.value})]:null}),At(f)}});export{xn as Q,Ul as a,Ql as b,Gl as c};
