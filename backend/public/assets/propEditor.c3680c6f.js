var E=Object.defineProperty;var z=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var $=(e,n,o)=>n in e?E(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,D=(e,n)=>{for(var o in n||(n={}))M.call(n,o)&&$(e,o,n[o]);if(z)for(var o of z(n))G.call(n,o)&&$(e,o,n[o]);return e};import{a as R,Q as S}from"./QToolbar.4ee5862c.js";import{br as U,aa as P,ag as B,l as _,bG as J,U as h,aZ as C,ap as X,bF as Y,ad as H,cs as j,bu as Z,cB as W,r as ee,ao as te,az as q,V as L,b2 as m,y as O,cl as ae,a3 as f,a2 as ne,F,b4 as oe,bx as T,Y as I,X as re,aF as le,bL as se,J as ue}from"./index.1cb7ea7e.js";import{a as ie,b as ce,c as de}from"./QLayout.75aedc7e.js";import{b as fe}from"./QTabs.b3a489dd.js";import{u as N,C as ve}from"./use-dialog-plugin-component.8221f5d9.js";var pe=U({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:o}){const{proxy:{$q:r}}=P(),t=B(j,()=>{console.error("QFooter needs to be child of QLayout")}),v=_(parseInt(e.heightHint,10)),l=_(!0),y=_(J.value===!0||t.isContainer.value===!0?0:window.innerHeight),b=h(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||r.platform.is.ios&&t.isContainer.value===!0),Q=h(()=>t.isContainer.value===!0?t.containerHeight.value:y.value),s=h(()=>{if(e.modelValue!==!0)return 0;if(b.value===!0)return l.value===!0?v.value:0;const a=t.scroll.value.position+Q.value+v.value-t.height.value;return a>0?a:0}),p=h(()=>e.modelValue!==!0||b.value===!0&&l.value!==!0),i=h(()=>e.modelValue===!0&&p.value===!0&&e.reveal===!0),w=h(()=>"q-footer q-layout__section--marginal "+(b.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(p.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(b.value!==!0?" hidden":""):"")),V=h(()=>{const a=t.rows.value.bottom,d={};return a[0]==="l"&&t.left.space===!0&&(d[r.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(d[r.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),d});function c(a,d){t.update("footer",a,d)}function g(a,d){a.value!==d&&(a.value=d)}function u({height:a}){g(v,a),c("size",a)}function x(){if(e.reveal!==!0)return;const{direction:a,position:d,inflectionPoint:A}=t.scroll.value;g(l,a==="up"||d-A<100||t.height.value-Q.value-d-v.value<300)}function K(a){i.value===!0&&g(l,!0),o("focusin",a)}C(()=>e.modelValue,a=>{c("space",a),g(l,!0),t.animate()}),C(s,a=>{c("offset",a)}),C(()=>e.reveal,a=>{a===!1&&g(l,e.modelValue)}),C(l,a=>{t.animate(),o("reveal",a)}),C([v,t.scroll,t.height],x),C(()=>r.screen.height,a=>{t.isContainer.value!==!0&&g(y,a)});const k={};return t.instances.footer=k,e.modelValue===!0&&c("size",v.value),c("space",e.modelValue),c("offset",s.value),X(()=>{t.instances.footer===k&&(t.instances.footer=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const a=Y(n.default,[H(fe,{debounce:0,onResize:u})]);return e.elevated===!0&&a.push(H("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),H("footer",{class:w.value,style:V.value,onFocusin:K},a)}}}),ge=U({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:o}}=P(),r=B(j);B(W,()=>{console.error("QPage needs to be child of QPageContainer")});const t=h(()=>{const l=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof e.styleFn=="function"){const y=r.isContainer.value===!0?r.containerHeight.value:o.screen.height;return e.styleFn(l,y)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-l+"px":o.screen.height===0?l!==0?`calc(100vh - ${l}px)`:"100vh":o.screen.height-l+"px"}}),v=h(()=>`q-page ${e.padding===!0?" q-layout-padding":""}`);return()=>H("main",{class:v.value,style:t.value},Z(n.default))}});const Ve={__name:"propEditor",props:["component","env"],emits:[...N.emits],setup(e){const n=e,{$likhaAPI:o,$qs:r}=P().appContext.config.globalProperties,t=ee({props:[]});te(async()=>{let s="";n.env==="/dev-env"&&(s="Dev"),n.env==="/staging-env"&&(s="Staging");const p=r.stringify({filters:{name:{$eq:n.component.name}},fields:["props"+s]},{encodeValuesOnly:!0}),{attributes:i}=(await o.get("/components?"+p)).data.data[0],w=u=>typeof u!="string"?"return "+u:u.split(/\b\s+/)[0].includes("return")?u:"return "+u,V=new Function(w(i["props"+s]))()||{},c=n.component["props"+s]||{},g=V.constructor.name;g==="Object"?t.props=Object.entries(V).map(u=>[u[0],D({value:c[u[0]]||u[1].default},u[1])]):g==="Array"&&(t.props=V.map(u=>{const x=c[u]||"";return[u,{value:x,type:String}]}))});const{dialogRef:v,onDialogHide:l,onDialogOK:y,onDialogCancel:b}=N();function Q(){let s="";n.env==="/dev-env"&&(s="Dev"),n.env==="/staging-env"&&(s="Staging");const p={};for(const i of t.props)p["props"+s]||(p["props"+s]={}),p["props"+s][i[0]]=i[1].value;y(p)}return(s,p)=>(q(),L(ae,{persistent:"",class:"z-top",ref_key:"dialogRef",ref:v,onHide:O(l)},{default:m(()=>[f(de,{view:"hHh LpR fFf",container:"",class:"bg-white"},{default:m(()=>[f(ie,{class:"bg-primary"},{default:m(()=>[f(R,null,{default:m(()=>[f(S,null,{default:m(()=>[ne(F(e.component.name)+" - "+F(e.component.order),1)]),_:1}),oe(f(T,{flat:"",onClick:O(b),round:"",dense:"",icon:"close"},null,8,["onClick"]),[[ve]])]),_:1})]),_:1}),f(pe,{class:"bg-dark text-white"},{default:m(()=>[f(R,null,{default:m(()=>[f(S),f(T,{color:"primary",onClick:Q,icon:"save",label:"save"})]),_:1})]),_:1}),f(ce,null,{default:m(()=>[f(ge,{padding:"",class:"column"},{default:m(()=>[I("div",null,F(t.props),1),I("div",null,F(e.component.name),1),(q(!0),re(ue,null,le(t.props,i=>(q(),L(se,{key:"prop"+i[0],label:i[0],modelValue:i[1].value,"onUpdate:modelValue":w=>i[1].value=w,type:new i[1].type().constructor.name},null,8,["label","modelValue","onUpdate:modelValue","type"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};export{Ve as default};
