var D=Object.defineProperty;var E=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var M=(e,d,a)=>d in e?D(e,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[d]=a,N=(e,d)=>{for(var a in d||(d={}))G.call(d,a)&&M(e,a,d[a]);if(E)for(var a of E(d))Z.call(d,a)&&M(e,a,d[a]);return e};import{br as Q,ag as L,cv as V,cz as I,U as s,ad as g,bu as U,aa as P,aB as A,l as x,aZ as p,ap as O,bO as k,bG as j,bF as K,at as J,bH as X,cd as Y,bI as ee,cA as te,cB as oe,c1 as R,r as F,ax as ne}from"./index.271f8265.js";import{b as T}from"./QTabs.2f910041.js";var se=Q({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:d}){const{proxy:{$q:a}}=P(),n=L(V);L(I,()=>{console.error("QPage needs to be child of QPageContainer")});const t=s(()=>{const r=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const m=n.isContainer.value===!0?n.containerHeight.value:a.screen.height;return e.styleFn(r,m)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-r+"px":a.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":a.screen.height-r+"px"}}),u=s(()=>`q-page ${e.padding===!0?" q-layout-padding":""}`);return()=>g("main",{class:u.value,style:t.value},U(d.default))}}),ce=Q({name:"QPageContainer",setup(e,{slots:d}){const{proxy:{$q:a}}=P(),n=L(V,()=>{console.error("QPageContainer needs to be child of QLayout")});A(I,!0);const t=s(()=>{const u={};return n.header.space===!0&&(u.paddingTop=`${n.header.size}px`),n.right.space===!0&&(u[`padding${a.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(u.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(u[`padding${a.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),u});return()=>g("div",{class:"q-page-container",style:t.value},U(d.default))}}),de=Q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:d,emit:a}){const{proxy:{$q:n}}=P(),t=L(V,()=>{console.error("QHeader needs to be child of QLayout")}),u=x(parseInt(e.heightHint,10)),r=x(!0),m=s(()=>e.reveal===!0||t.view.value.indexOf("H")>-1||n.platform.is.ios&&t.isContainer.value===!0),h=s(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return r.value===!0?u.value:0;const l=u.value-t.scroll.value.position;return l>0?l:0}),f=s(()=>e.modelValue!==!0||m.value===!0&&r.value!==!0),$=s(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),w=s(()=>"q-header q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(f.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=s(()=>{const l=t.rows.value.top,b={};return l[0]==="l"&&t.left.space===!0&&(b[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),l[2]==="r"&&t.right.space===!0&&(b[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),b});function c(l,b){t.update("header",l,b)}function z(l,b){l.value!==b&&(l.value=b)}function y({height:l}){z(u,l),c("size",l)}function q(l){$.value===!0&&z(r,!0),a("focusin",l)}p(()=>e.modelValue,l=>{c("space",l),z(r,!0),t.animate()}),p(h,l=>{c("offset",l)}),p(()=>e.reveal,l=>{l===!1&&z(r,e.modelValue)}),p(r,l=>{t.animate(),a("reveal",l)}),p(t.scroll,l=>{e.reveal===!0&&z(r,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const C={};return t.instances.header=C,e.modelValue===!0&&c("size",u.value),c("space",e.modelValue),c("offset",h.value),O(()=>{t.instances.header===C&&(t.instances.header=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const l=k(d.default,[]);return e.elevated===!0&&l.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(g(T,{debounce:0,onResize:y})),g("header",{class:w.value,style:S.value,onFocusin:q},l)}}}),fe=Q({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:d,emit:a}){const{proxy:{$q:n}}=P(),t=L(V,()=>{console.error("QFooter needs to be child of QLayout")}),u=x(parseInt(e.heightHint,10)),r=x(!0),m=x(j.value===!0||t.isContainer.value===!0?0:window.innerHeight),h=s(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||n.platform.is.ios&&t.isContainer.value===!0),f=s(()=>t.isContainer.value===!0?t.containerHeight.value:m.value),$=s(()=>{if(e.modelValue!==!0)return 0;if(h.value===!0)return r.value===!0?u.value:0;const o=t.scroll.value.position+f.value+u.value-t.height.value;return o>0?o:0}),w=s(()=>e.modelValue!==!0||h.value===!0&&r.value!==!0),S=s(()=>e.modelValue===!0&&w.value===!0&&e.reveal===!0),c=s(()=>"q-footer q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(w.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(h.value!==!0?" hidden":""):"")),z=s(()=>{const o=t.rows.value.bottom,v={};return o[0]==="l"&&t.left.space===!0&&(v[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),o[2]==="r"&&t.right.space===!0&&(v[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),v});function y(o,v){t.update("footer",o,v)}function q(o,v){o.value!==v&&(o.value=v)}function C({height:o}){q(u,o),y("size",o)}function l(){if(e.reveal!==!0)return;const{direction:o,position:v,inflectionPoint:H}=t.scroll.value;q(r,o==="up"||v-H<100||t.height.value-f.value-v-u.value<300)}function b(o){S.value===!0&&q(r,!0),a("focusin",o)}p(()=>e.modelValue,o=>{y("space",o),q(r,!0),t.animate()}),p($,o=>{y("offset",o)}),p(()=>e.reveal,o=>{o===!1&&q(r,e.modelValue)}),p(r,o=>{t.animate(),a("reveal",o)}),p([u,t.scroll,t.height],l),p(()=>n.screen.height,o=>{t.isContainer.value!==!0&&q(m,o)});const i={};return t.instances.footer=i,e.modelValue===!0&&y("size",u.value),y("space",e.modelValue),y("offset",$.value),O(()=>{t.instances.footer===i&&(t.instances.footer=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const o=K(d.default,[g(T,{debounce:0,onResize:C})]);return e.elevated===!0&&o.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),g("footer",{class:c.value,style:z.value,onFocusin:b},o)}}});const{passive:W}=ee,ae=["both","horizontal","vertical"];var le=Q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>ae.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:d}){const a={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,t,u;p(()=>e.scrollTarget,()=>{h(),m()});function r(){n!==null&&n();const w=Math.max(0,te(t)),S=oe(t),c={top:w-a.position.top,left:S-a.position.left};if(e.axis==="vertical"&&c.top===0||e.axis==="horizontal"&&c.left===0)return;const z=Math.abs(c.top)>=Math.abs(c.left)?c.top<0?"up":"down":c.left<0?"left":"right";a.position={top:w,left:S},a.directionChanged=a.direction!==z,a.delta=c,a.directionChanged===!0&&(a.direction=z,a.inflectionPoint=a.position),d("scroll",N({},a))}function m(){t=Y(u,e.scrollTarget),t.addEventListener("scroll",f,W),f(!0)}function h(){t!==void 0&&(t.removeEventListener("scroll",f,W),t=void 0)}function f(w){if(w===!0||e.debounce===0||e.debounce==="0")r();else if(n===null){const[S,c]=e.debounce?[setTimeout(r,e.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];n=()=>{c(S),n=null}}}const $=P();return J(()=>{u=$.proxy.$el.parentNode,m()}),O(()=>{n!==null&&n(),h()}),Object.assign($.proxy,{trigger:f,getPosition:()=>a}),X}}),ve=Q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:d,emit:a}){const{proxy:{$q:n}}=P(),t=x(null),u=x(n.screen.height),r=x(e.container===!0?0:n.screen.width),m=x({position:0,direction:"down",inflectionPoint:0}),h=x(0),f=x(j.value===!0?0:R()),$=s(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),w=s(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),S=s(()=>f.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${f.value}px`}:null),c=s(()=>f.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${f.value}px`,width:`calc(100% + ${f.value}px)`}:null);function z(i){if(e.container===!0||document.qScrollPrevented!==!0){const o={position:i.position.top,direction:i.direction,directionChanged:i.directionChanged,inflectionPoint:i.inflectionPoint.top,delta:i.delta.top};m.value=o,e.onScroll!==void 0&&a("scroll",o)}}function y(i){const{height:o,width:v}=i;let H=!1;u.value!==o&&(H=!0,u.value=o,e.onScrollHeight!==void 0&&a("scroll-height",o),C()),r.value!==v&&(H=!0,r.value=v),H===!0&&e.onResize!==void 0&&a("resize",i)}function q({height:i}){h.value!==i&&(h.value=i,C())}function C(){if(e.container===!0){const i=u.value>h.value?R():0;f.value!==i&&(f.value=i)}}let l;const b={instances:{},view:s(()=>e.view),isContainer:s(()=>e.container),rootRef:t,height:u,containerHeight:h,scrollbarWidth:f,totalWidth:s(()=>r.value+f.value),rows:s(()=>{const i=e.view.toLowerCase().split(" ");return{top:i[0].split(""),middle:i[1].split(""),bottom:i[2].split("")}}),header:F({size:0,offset:0,space:!1}),right:F({size:300,offset:0,space:!1}),footer:F({size:0,offset:0,space:!1}),left:F({size:300,offset:0,space:!1}),scroll:m,animate(){l!==void 0?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),l=void 0},155)},update(i,o,v){b[i][o]=v}};if(A(V,b),R()>0){let v=function(){i=null,o.classList.remove("hide-scrollbar")},H=function(){if(i===null){if(o.scrollHeight>n.screen.height)return;o.classList.add("hide-scrollbar")}else clearTimeout(i);i=setTimeout(v,300)},B=function(_){i!==null&&_==="remove"&&(clearTimeout(i),v()),window[`${_}EventListener`]("resize",H)},i=null;const o=document.body;p(()=>e.container!==!0?"add":"remove",B),e.container!==!0&&B("add"),ne(()=>{B("remove")})}return()=>{const i=K(d.default,[g(le,{onScroll:z}),g(T,{onResize:y})]),o=g("div",{class:$.value,style:w.value,ref:e.container===!0?void 0:t,tabindex:-1},i);return e.container===!0?g("div",{class:"q-layout-container overflow-hidden",ref:t},[g(T,{onResize:q}),g("div",{class:"absolute-full",style:S.value},[g("div",{class:"scroll",style:c.value},[o])])]):o}}});export{le as Q,ve as a,ce as b,se as c,de as d,fe as e};
